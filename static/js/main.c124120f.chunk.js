(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),i=n(13),a=n.n(i),l=(n(18),n(4)),s=(n(19),n(0)),r=function(){var e=(new Date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"2-digit",year:"numeric"}).split(" ").slice(0,4).join(" ");return Object(s.jsxs)("div",{className:"block titlebar",children:[Object(s.jsx)("span",{className:"date",children:e}),Object(s.jsx)("span",{children:"To-Do App"})]})},d=n(5),u=n(3),j=n(6),b=(n(26),"low"),O="medium",h="high",f=[b,O,h],m="personal",g="academic",v="social",x=[m,g,v];var p=function(e){var t=e.todo,n=e.styles,c=e.onToggleSelection,o=e.onToggleComplete,i=e.onDeleteTodo,a=e.onSetEditMode,l="gray";t.urgency===O?l="yellow":t.urgency===h&&(l="red");var r=u.g,b="cyan";t.category===g?(r=u.a,b="grey"):t.category===v&&(r=u.h,b="orange");var f={margin:"auto",height:"100%",width:"100%",display:"block"};return Object(s.jsxs)("div",{style:Object(d.a)({},n),className:"todocard"+(t.isSelected?" selected":"")+(t.isComplete?" completed":""),children:[Object(s.jsxs)("div",{className:"todocard-hoveroption",children:[Object(s.jsx)("div",{onClick:function(){return a(t.id)},children:Object(s.jsx)(j.a,{icon:u.c,style:Object(d.a)({},f)})}),Object(s.jsx)("div",{onClick:function(){return i(t.id)},children:Object(s.jsx)(j.a,{icon:u.f,style:Object(d.a)({},f)})})]}),Object(s.jsx)("p",{className:"todocard-title",children:t.title}),Object(s.jsx)("p",{className:"todocard-datetime",children:t.date+", "+t.time}),Object(s.jsxs)("div",{className:"todocard-statusicon",children:[Object(s.jsx)("div",{children:Object(s.jsx)(j.a,{icon:u.d,style:Object(d.a)({color:l},f)})}),Object(s.jsx)("div",{children:Object(s.jsx)(j.a,{icon:r,style:Object(d.a)({color:b},f)})})]}),Object(s.jsx)("button",{className:"todocard-btn-mark",onClick:function(){return o(t.id)},children:t.isComplete?"Completed. Undo?":"Mark Complete"}),Object(s.jsx)("div",{className:"todocard-select"+(t.isSelected?" red-bg":""),onClick:function(){return c(t.id)}})]})},C=(n(27),o.a.memo((function(e){var t=e.todoList,n=e.selectedTodos,c=e.onToggleSelect,o=e.onToggleComplete,i=e.onDeleteTodo,a=e.onSetEditMode,l=e.onBatchComplete,r=e.onBatchUndo,b=e.onBatchDelete,O={height:"100%",width:"100%",color:"white"};return Object(s.jsxs)("div",{className:"block todocanvas",children:[Object(s.jsx)("div",{className:"todocanvas-display",children:t.map((function(e){return Object(s.jsx)(p,{todo:Object(d.a)(Object(d.a)({},e),{},{isSelected:n.has(e.id)}),styles:{flex:"0 0 25%",height:"40%"},onToggleSelection:c,onToggleComplete:o,onDeleteTodo:i,onSetEditMode:a},e.id)}))}),Object(s.jsxs)("div",{className:"todocanvas-option-menu",children:[Object(s.jsx)("div",{className:"todocanvas-option",onClick:l,children:Object(s.jsx)(j.a,{icon:u.b,style:O})}),Object(s.jsx)("div",{className:"todocanvas-option",onClick:r,children:Object(s.jsx)(j.a,{icon:u.e,style:O})}),Object(s.jsx)("div",{className:"todocanvas-option",onClick:b,children:Object(s.jsx)(j.a,{icon:u.f,style:O})})]})]})}))),S=o.a.memo((function(e){var t=e.filters,n=e.onToggle;return Object(s.jsxs)("div",{className:"block filters",children:[Object(s.jsx)("div",{children:t.map((function(e){var t=function(e){var t,n,c=e.name,o=e.isSelected;switch(c){case b:t=u.d,n="grey";break;case O:t=u.d,n="yellow";break;case h:t=u.d,n="red";break;case m:t=u.g,n="cyan";break;case g:t=u.a,n="grey";break;case v:t=u.h,n="orange"}return{icon:t,styles:{margin:"auto",height:o?"80%":"50%",width:o?"80%":"50%",display:"block",color:n}}}(e),c=t.icon,o=t.styles;return Object(s.jsx)("div",{onClick:n.bind(null,e.name),children:Object(s.jsx)(j.a,{icon:c,style:o})},e.name)}))}),Object(s.jsx)("p",{children:"Filter Todos"})]})})),y=o.a.memo((function(e){var t=e.todoList,n=t.filter((function(e){return e.isComplete})).length,c=t.length;return Object(s.jsxs)("div",{className:"block analytics",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"".concat(Math.round(100*n/(c||1))," %")}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:"".concat(n," / ").concat(c)})]}),Object(s.jsx)("p",{children:"Analytics"})]})})),k=(n(28),o.a.memo((function(e){var t=e.onSubmit,n=e.onCancel,o=e.initValues,i=e.showButtons,a=void 0!==i&&i,r="",d=m,u=b;o&&(r=o.title,u=o.urgency,d=o.category);var j=Object(c.useState)(r),O=Object(l.a)(j,2),h=O[0],g=O[1],v=Object(c.useState)(u),p=Object(l.a)(v,2),C=p[0],S=p[1],y=Object(c.useState)(d),k=Object(l.a)(y,2),N=k[0],w=k[1],L=Object(c.useCallback)((function(e){return g(e.target.value)}),[]),D=Object(c.useCallback)((function(e){return S(e.target.value)}),[]),B=Object(c.useCallback)((function(e){return w(e.target.value)}),[]),M=function(e){e&&e.preventDefault(),t(h,C,N),g(r),S(u),w(d)},F=Object(c.useCallback)((function(){n()}),[n]),I=null;return a&&(I=Object(s.jsxs)("div",{className:"todoform-buttons",children:[Object(s.jsx)("button",{onClick:F,children:"Cancel"}),Object(s.jsx)("button",{onClick:M,type:"submit",children:"Save"})]})),Object(s.jsxs)("form",{onSubmit:M,className:"todoform",children:[Object(s.jsx)("div",{className:"todoform-input",children:Object(s.jsx)("input",{type:"text",placeholder:"Add your Todo...",value:h,onChange:L})}),Object(s.jsx)(T,{title:"Urgency",optionList:f,value:C,onChange:D}),Object(s.jsx)(T,{title:"Category",optionList:x,value:N,onChange:B}),I]})})));function T(e){var t=e.title,n=e.optionList,c=e.value,o=e.onChange;return Object(s.jsxs)("div",{className:"todoform-option",children:[Object(s.jsx)("label",{children:t}),Object(s.jsx)("br",{}),Object(s.jsx)("select",{value:c,onChange:o,children:n.map((function(e){return Object(s.jsx)("option",{value:e,children:e[0].toUpperCase()+e.slice(1)},e)}))})]})}var N=o.a.memo((function(e){var t=e.onSubmit;return Object(s.jsxs)("div",{className:"block createtodo",children:[Object(s.jsx)("div",{className:"createtodo-heading",children:Object(s.jsx)("div",{children:"Create Todo"})}),Object(s.jsx)("div",{className:"createtodo-form",children:Object(s.jsx)(k,{onSubmit:t})})]})})),w=(n(29),function(e){var t=Object.assign({},e);return Object(s.jsx)("div",{className:"backdrop",children:t.children})}),L=n(7),D=function(){var e=localStorage.getItem("todoList");return e?JSON.parse(e):[]},B=function(e){localStorage.setItem("todoList",JSON.stringify(e))},M=function(e,t){return new Promise((function(n,c){setTimeout((function(){var c=new Set(e),o=D().map((function(e){return c.has(e.id)&&(e.isComplete=null!==t&&void 0!==t?t:!e.isComplete),e}));B(o),n(o)}),0)}))},F=function(e){return new Promise((function(t,n){setTimeout((function(){var n=new Set(e),c=D().filter((function(e){return!n.has(e.id)}));B(c),t(c)}),0)}))},I=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)(new Set),a=Object(l.a)(i,2),s=a[0],r=a[1];Object(c.useEffect)((function(){new Promise((function(e,t){setTimeout((function(){e(D())}),1e3)})).then((function(e){o(e)})).catch((function(e){console.log(e)}))}),[]);var u=Object(c.useCallback)((function(e,t,n){(function(e,t,n){return new Promise((function(c,o){setTimeout((function(){var o=(new Date).toLocaleDateString("en-uk"),i=(new Date).toLocaleDateString("en-us",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).split(",")[1].trim(),a={title:e,urgency:t,category:n,date:o,time:i,isComplete:!1,id:o+i+Math.random()},l=D();l.push(a),B(l),c(a)}),0)}))})(e,t,n).then((function(e){o((function(t){return[].concat(Object(L.a)(t),[e])}))})).catch((function(e){return console.log(e)}))}),[]),j=Object(c.useCallback)((function(e){M([e]).then(o).catch((function(e){return console.log(e)}))}),[]),b=Object(c.useCallback)((function(e){var t=new Set(s);t.has(e)?t.delete(e):t.add(e),r(t)}),[s]),O=Object(c.useCallback)((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];M(Object(L.a)(s),e).then((function(e){o(e),r(new Set)})).catch((function(e){return console.log(e)}))}),[s]),h=Object(c.useCallback)((function(e){F([e]).then((function(e){o(e)})).catch((function(e){return console.log(e)}))}),[]),f=Object(c.useCallback)((function(){F(Object(L.a)(s)).then((function(e){o(e),r(new Set)})).catch((function(e){return console.log(e)}))}),[s]),m=Object(c.useCallback)((function(e,t,c,i){(function(e,t,n,c){return new Promise((function(o,i){setTimeout((function(){var i=D(),a=i.findIndex((function(t){return t.id===e}));i[a]=Object(d.a)(Object(d.a)({},i[a]),{},{title:t,urgency:n,category:c}),B(i),o(i[a])}),0)}))})(n[e].id,t,c,i).then((function(t){o((function(n){var c=Object(L.a)(n);return c[e]=t,c}))})).catch((function(e){return console.log(e)}))}),[n]);return{todoList:n,selectedTodos:s,addTodo:u,toggleSingleComplete:j,toggleSingleSelect:b,toggleBatchComplete:O,deleteSingleTodo:h,deleteBatchTodo:f,editTodo:m}},P=function(){var e=I(),t=e.todoList,n=e.selectedTodos,o=e.addTodo,i=e.toggleSingleComplete,a=e.toggleSingleSelect,d=e.toggleBatchComplete,u=e.deleteSingleTodo,j=e.deleteBatchTodo,b=e.editTodo,O=function(){var e=Object(c.useState)(f.concat(x).map((function(e){return{name:e,isSelected:!1}}))),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(c.useCallback)((function(e){var t=Object(L.a)(n),c=t.findIndex((function(t){return t.name===e}));t[c].isSelected=!t[c].isSelected,o(t)}),[n]);return{filters:n,toggleFilter:i}}(),h=O.filters,m=O.toggleFilter,g=Object(c.useState)(!1),v=Object(l.a)(g,2),p=v[0],T=v[1],D=Object(c.useState)(-1),B=Object(l.a)(D,2),M=B[0],F=B[1],P=Object(c.useCallback)((function(e){T((function(e){return!e})),e&&F(t.findIndex((function(t){return t.id===e})))}),[t]),E=Object(c.useCallback)((function(e,t,n){b(M,e,t,n),P()}),[b,P,M]),U=Object(c.useMemo)((function(){return function(e,t){return t.every((function(e){return!1===e.isSelected}))?e:e.filter((function(e){return t.some((function(t){return t.isSelected&&(e.urgency===t.name||e.category===t.name)}))}))}(t,h)}),[t,h]);return Object(s.jsxs)("div",{className:"App",children:[p&&Object(s.jsx)(w,{children:Object(s.jsx)("div",{className:"backdrop-form-container",children:Object(s.jsx)(k,{onSubmit:E,initValues:t[M],showButtons:!0,onCancel:P})})}),Object(s.jsx)(r,{}),Object(s.jsxs)("div",{className:"container-body",children:[Object(s.jsx)(C,{todoList:U,selectedTodos:n,onToggleSelect:a,onToggleComplete:i,onDeleteTodo:u,onSetEditMode:P,onBatchComplete:d.bind(null,!0),onBatchUndo:d.bind(null,!1),onBatchDelete:j}),Object(s.jsxs)("div",{className:"actionbar",children:[Object(s.jsx)(S,{filters:h,onToggle:m}),Object(s.jsx)(y,{todoList:U}),Object(s.jsx)(N,{onSubmit:o})]})]})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),i(e),a(e)}))};a.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(P,{})}),document.getElementById("root")),E()}},[[30,1,2]]]);
//# sourceMappingURL=main.c124120f.chunk.js.map